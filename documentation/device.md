<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [Device][1]
    -   [disconnect][2]
    -   [poll][3]
    -   [getMePosition][4]
    -   [getItPosition][5]
    -   [send][6]
    -   [handleMoved][7]
    -   [createObstacle][8]
    -   [removeObstacle][9]
    -   [moveHandleTo][10]
    -   [applyForceTo][11]
    -   [movePantoTo][12]
    -   [unblockHandle][13]
    -   [unblock][14]
    -   [tweenPantoTo][15]
    -   [step][16]
-   [Vector][17]
    -   [dot][18]
    -   [scale][19]
    -   [scaled][20]
    -   [add][21]
    -   [sum][22]
    -   [subtract][23]
    -   [difference][24]
    -   [length][25]
    -   [polarAngle][26]
    -   [rotate][27]
    -   [normalized][28]
    -   [product][29]
-   [Broker][30]
    -   [run_script][31]
    -   [waitMS][32]
    -   [getDevices][33]
    -   [getDeviceByPort][34]
    -   [createVirtualDevice][35]
-   [VoiceInteraction][36]
    -   [speakText][37]
    -   [sayText][38]
    -   [playSound][39]
    -   [setCommands][40]
    -   [beginListening][41]
    -   [haltListening][42]
-   [Player][43]
    -   [then][44]
    -   [play][45]
    -   [pause][46]
    -   [stop][47]

## Device

**Extends EventEmitter**

Class for panto interaction.

**Parameters**

-   `port` **[String][48]** port on that the device is connected.

### disconnect

Disconnect the device.

### poll

Pulls new data from serial connection and handles them.

### getMePosition

gets the last known position of the me handle

Returns **[Vector][49]** last known position as vector

### getItPosition

gets the last known position of the it handle

Returns **[Vector][49]** last known position as vector

### send

Enqueues a packet to be send via the serial connection to the panto.

**Parameters**

-   `index` **[number][50]** index of handle to send to
-   `packet` **[Buffer][51]** containing the payload data

### handleMoved

sets new positions if handles are moved by ViDeb

**Parameters**

-   `index` **[number][50]** index of moved handle
-   `position` **[Vector][49]** position the handle was moved to

### createObstacle

Creates obstacles for handles

**Parameters**

-   `pointArray` **[array][52]** array containing edge points of the obstacle
-   `index` **[number][50]** index of affected handle with -1 meaning both (optional, default `-1`)

Returns **Obstacle** the created obstacle

### removeObstacle

Remove obstacles for handles

**Parameters**

-   `obstacle`  
-   `index` **[number][50]** index of affected handle with -1 meaning both (optional, default `-1`)
-   `pointArray` **[array][52]** array containing edge points of the obstacle

### moveHandleTo

moves a Handle to a position

**Parameters**

-   `index` **[number][50]** index of handle to move
-   `target` **[Vector][49]** position the handle should be moved to

### applyForceTo

applies force vector to the pantograph

**Parameters**

-   `index` **[number][50]** index of handle to apply force
-   `force`  
-   `target` **[Vector][49]** vector of force to render. 3rd element will be ignored.

### movePantoTo

Returns a promise that invokes handle movement with tween behaviour

**Parameters**

-   `index` **[number][50]** index of handle to move
-   `target` **[Vector][49]** position the handle should be moved to
-   `speed` **[number][50]** speed of the movement in mm per second (max value is 120). (optional, default `120`)
-   `interpolation_method` **[Object][53]** tween function that is used to generate the movement. (optional, default `TWEEN.Easing.Quadratic.InOut`)

Returns **[promise][54]** the promise executing the movement

### unblockHandle

Returns a promise that unblocks a handle

**Parameters**

-   `index` **[number][50]** index of handle to unblock

Returns **[promise][54]** the promise executing the unblock

### unblock

Unblocks a handle

**Parameters**

-   `index` **[number][50]** index of handle to unblock

### tweenPantoTo

Moves a handle with tween movement behaviour

**Parameters**

-   `index` **[number][50]** index of handle to move
-   `target` **[Vector][49]** position the handle should be moved to
-   `duration` **[number][50]** time in ms that the movement shall take. (optional, default `500`)
-   `interpolation_method` **[Object][53]** tween function that is used to generate the movement. (optional, default `TWEEN.Easing.Quadratic.InOut`)

### step

Represents the timesteps for moving objects

## Vector

Class for Class for defining Panto Vecotrs with x, y cords and r as roation

**Parameters**

-   `x` **[number][50]** x coordinate (optional, default `0`)
-   `y` **[number][50]** y coordinate (optional, default `0`)
-   `r` **[number][50]** rotation in radian

### dot

Calculates and returns the dot product with another vector.

**Parameters**

-   `vector` **[Vector][49]** vector to operate with

Returns **[number][50]** The calculated result

### scale

Scales this Vector with a factor.

**Parameters**

-   `factor` **[number][50]** factor to scale vector

Returns **[Vector][49]** The scaled Vector

### scaled

Creates a scaled vector.

**Parameters**

-   `factor` **[number][50]** factor to scale vector

Returns **[Vector][49]** The new scaled Vector

### add

Adds a vector to this vector.

**Parameters**

-   `vector` **[Vector][49]** vector to operate with

Returns **[Vector][49]** The summed up vector

### sum

Returns the sum of this vector and another vector.

**Parameters**

-   `vector` **[Vector][49]** vector to operate with

Returns **[Vector][49]** The new summed up vector

### subtract

Subtracts a vector from this vector.

**Parameters**

-   `vector` **[Vector][49]** vector to operate with

Returns **[Vector][49]** The reduced vector

### difference

Returns the difference of this vector and another vector.

**Parameters**

-   `vector` **[Vector][49]** vector to operate with

Returns **[Vector][49]** The difference vector

### length

Calculates the length of the vector

Returns **[number][50]** length of vector

### polarAngle

Calculates the polar angle of the vector
Right-hand coordinate system:
Positive rotation => Counter Clock Wise
Positive X-Axis is 0

Returns **[number][50]** polar angle of vector

### rotate

Rotates the vector with the given angle
Right-hand coordinate system:
Positive rotation => Counter Clock Wise
Positive X-Axis is 0

**Parameters**

-   `angle` **[number][50]** angle in radians

Returns **[Vector][49]** The rotated vector

### normalized

Normalizes the vector

Returns **[Vector][49]** this normalized vector

### product

Creates a transformed vector by multiplication with a matrix

**Parameters**

-   `matrix` **[Array][52]** matrix to operate with

Returns **[Vector][49]** The transfromed vector

## Broker

**Extends EventEmitter**

Class for device handling and basic functions

### run_script

Creates a script that executes a list of promises.

**Parameters**

-   `promise_list` **[array][52]** the list of promises to execute.

### waitMS

Generates a promise that creates a timeout.

**Parameters**

-   `ms` **[number][50]** number ob ms to wait.

Returns **[Promise][54]** The promise executing the timeout.

### getDevices

Returns all connected devices.

Returns **[Set][55]** The connected devices.

### getDeviceByPort

Returns the device connected to a specific port

**Parameters**

-   `port` **[String][48]** the port of the device

Returns **[Device][56]** The connected device.

### createVirtualDevice

Creates a new virtual device

Returns **[Device][56]** The new virtual device.

## VoiceInteraction

**Extends EventEmitter**

Class for voice input and output

### speakText

Speaks a text.

**Parameters**

-   `txt` **[String][48]** The text to speak.
-   `language` **[String][48]** The language to speak. (optional, default `DE`)
-   `speed` **[number][50]** The speed that is spoken with. (optional, default `1.4`)

### sayText

Creates a script which speaks a german text with 1.4 speed.

**Parameters**

-   `txt` **[String][48]** The text to speak.

### playSound

Play a soundfile.

**Parameters**

-   `filename` **[String][48]** The file to play.

Returns **[Player][57]** The player playing the sound

### setCommands

Sets up the voice input listener.

**Parameters**

-   `commands` **[array][52]** List of Strings to listen for.

### beginListening

starts the listener.

### haltListening

stops the listener.

## Player

Player is a class to control the playing of a file

**Parameters**

-   `filename` **[string][48]** The filename of the soundfile.

**Properties**

-   `isPlaying` **[boolean][58]** is the player currently playing

### then

The Player object is awaitable.
The then function is used internely by await or by the old `.then` syntax.

**Parameters**

-   `args` **...any** 

**Examples**

```javascript
await new Player('test.mp3');
// old syntax:
new Player('test.mp3').then(() => console.log('done'));
```

Returns **[Promise][54]** The promise of the state after the callbacks in then.

### play

Continue playing.

### pause

Pause playing.

### stop

Stop playing.

[1]: #device

[2]: #disconnect

[3]: #poll

[4]: #getmeposition

[5]: #getitposition

[6]: #send

[7]: #handlemoved

[8]: #createobstacle

[9]: #removeobstacle

[10]: #movehandleto

[11]: #applyforceto

[12]: #movepantoto

[13]: #unblockhandle

[14]: #unblock

[15]: #tweenpantoto

[16]: #step

[17]: #vector

[18]: #dot

[19]: #scale

[20]: #scaled

[21]: #add

[22]: #sum

[23]: #subtract

[24]: #difference

[25]: #length

[26]: #polarangle

[27]: #rotate

[28]: #normalized

[29]: #product

[30]: #broker

[31]: #run_script

[32]: #waitms

[33]: #getdevices

[34]: #getdevicebyport

[35]: #createvirtualdevice

[36]: #voiceinteraction

[37]: #speaktext

[38]: #saytext

[39]: #playsound

[40]: #setcommands

[41]: #beginlistening

[42]: #haltlistening

[43]: #player

[44]: #then

[45]: #play

[46]: #pause

[47]: #stop

[48]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[49]: #vector

[50]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[51]: https://nodejs.org/api/buffer.html

[52]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[53]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[54]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[55]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Set

[56]: #device

[57]: #player

[58]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

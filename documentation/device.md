<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [Device][1]
    -   [disconnect][2]
    -   [poll][3]
    -   [getMePosition][4]
    -   [getItPosition][5]
    -   [send][6]
    -   [handleMoved][7]
    -   [createObstacle][8]
    -   [removeObstacle][9]
    -   [createForcefield][10]
    -   [removeForcefield][11]
    -   [moveHandleTo][12]
    -   [applyForceTo][13]
    -   [rotateHandleTo][14]
    -   [movePantoTo][15]
    -   [unblockHandle][16]
    -   [unblock][17]
    -   [tweenPantoTo][18]
    -   [step][19]
-   [Vector][20]
    -   [dot][21]
    -   [scale][22]
    -   [scaled][23]
    -   [add][24]
    -   [sum][25]
    -   [subtract][26]
    -   [difference][27]
    -   [length][28]
    -   [polarAngle][29]
    -   [rotate][30]
    -   [normalized][31]
    -   [product][32]
-   [Broker][33]
    -   [run_script][34]
    -   [waitMS][35]
    -   [getDevices][36]
    -   [getDeviceByPort][37]
    -   [createVirtualDevice][38]
-   [VoiceInteraction][39]
    -   [speakText][40]
    -   [sayText][41]
    -   [playSound][42]
    -   [setCommands][43]
    -   [beginListening][44]
    -   [haltListening][45]
-   [Player][46]
    -   [then][47]
    -   [play][48]
    -   [pause][49]
    -   [stop][50]

## Device

**Extends EventEmitter**

Class for panto interaction.

**Parameters**

-   `port` **[String][51]** port on that the device is connected.

### disconnect

Disconnect the device.

### poll

Pulls new data from serial connection and handles them.

### getMePosition

gets the last known position of the me handle

Returns **[Vector][52]** last known position as vector

### getItPosition

gets the last known position of the it handle

Returns **[Vector][52]** last known position as vector

### send

Enqueues a packet to be send via the serial connection to the panto.

**Parameters**

-   `index` **[number][53]** index of handle to send to
-   `packet` **[Buffer][54]** containing the payload data

### handleMoved

sets new positions if handles are moved by ViDeb

**Parameters**

-   `index` **[number][53]** index of moved handle
-   `position` **[Vector][52]** position the handle was moved to

### createObstacle

Creates obstacles for handles

**Parameters**

-   `pointArray` **[array][55]** array containing edge points of the obstacle
-   `index` **[number][53]** index of affected handle with -1 meaning both (optional, default `-1`)

Returns **Obstacle** the created obstacle

### removeObstacle

Remove obstacles for handles

**Parameters**

-   `obstacle` **Obstacle** the obstacle that should be removed
-   `index` **[number][53]** index of affected handle with -1 meaning both (optional, default `-1`)

### createForcefield

Creates forcefields for handles

**Parameters**

-   `pointArray` **[array][55]** array containing edge points of the forcefield
-   `handleFunction` **[function][56]** function that translates a point to a force (see example folder)
-   `index` **[number][53]** index of affected handle with -1 meaning both (optional, default `-1`)

Returns **Forcefield** the created forcefield

### removeForcefield

Remove forcefields for handles

**Parameters**

-   `forcefield` **Forcefield** forcefield to be removed
-   `index` **[number][53]** index of affected handle with -1 meaning both (optional, default `-1`)

### moveHandleTo

moves a Handle to a position

**Parameters**

-   `index` **[number][53]** index of handle to move
-   `target` **[Vector][52]** position the handle should be moved to

### applyForceTo

applies force vector to the pantograph

**Parameters**

-   `index` **[number][53]** index of the handle to apply force to
-   `force` **[Vector][52]** force vector to render. Third element will be ignored.

### rotateHandleTo

Rotates a Handle to target angle inside the global coordinate system with zero beeing in postive x direction.
Positive rotation is counterclockwise.

**Parameters**

-   `index` **[number][53]** index of handle to move
-   `targetAngle` **[number][53]** angle in radiant the handle should be rotated to

### movePantoTo

Returns a promise that invokes handle movement with tween behaviour. Positive x goes to the right and positive y goes away from you.
The point (0,0) is between the motors.

**Parameters**

-   `index` **[number][53]** index of handle to move
-   `target` **[Vector][52]** position the handle should be moved to
-   `speed` **[number][53]** speed of the movement in mm per second (max value is 120). (optional, default `120`)
-   `interpolation_method` **[Object][57]** tween function that is used to generate the movement. (optional, default `TWEEN.Easing.Quadratic.InOut`)

Returns **[promise][58]** the promise executing the movement

### unblockHandle

Returns a promise that unblocks a handle

**Parameters**

-   `index` **[number][53]** index of handle to unblock

Returns **[promise][58]** the promise executing the unblock

### unblock

Unblocks a handle

**Parameters**

-   `index` **[number][53]** index of handle to unblock

### tweenPantoTo

Moves a handle with tween movement behaviour

**Parameters**

-   `index` **[number][53]** index of handle to move
-   `target` **[Vector][52]** position the handle should be moved to
-   `duration` **[number][53]** time in ms that the movement shall take. (optional, default `500`)
-   `interpolation_method` **[Object][57]** tween function that is used to generate the movement. (optional, default `TWEEN.Easing.Quadratic.InOut`)

### step

Represents the timesteps for moving objects

## Vector

Class for Class for defining Panto Vecotrs with x, y cords and r as roation

**Parameters**

-   `x` **[number][53]** x coordinate (optional, default `0`)
-   `y` **[number][53]** y coordinate (optional, default `0`)
-   `r` **[number][53]** rotation in radian

### dot

Calculates and returns the dot product with another vector.

**Parameters**

-   `vector` **[Vector][52]** vector to operate with

Returns **[number][53]** The calculated result

### scale

Scales this Vector with a factor.

**Parameters**

-   `factor` **[number][53]** factor to scale vector

Returns **[Vector][52]** The scaled Vector

### scaled

Creates a scaled vector.

**Parameters**

-   `factor` **[number][53]** factor to scale vector

Returns **[Vector][52]** The new scaled Vector

### add

Adds a vector to this vector.

**Parameters**

-   `vector` **[Vector][52]** vector to operate with

Returns **[Vector][52]** The summed up vector

### sum

Returns the sum of this vector and another vector.

**Parameters**

-   `vector` **[Vector][52]** vector to operate with

Returns **[Vector][52]** The new summed up vector

### subtract

Subtracts a vector from this vector.

**Parameters**

-   `vector` **[Vector][52]** vector to operate with

Returns **[Vector][52]** The reduced vector

### difference

Returns the difference of this vector and another vector.

**Parameters**

-   `vector` **[Vector][52]** vector to operate with

Returns **[Vector][52]** The difference vector

### length

Calculates the length of the vector

Returns **[number][53]** length of vector

### polarAngle

Calculates the polar angle of the vector
Right-hand coordinate system:
Positive rotation => Counter Clock Wise
Positive X-Axis is 0

Returns **[number][53]** polar angle of vector

### rotate

Rotates the vector with the given angle
Right-hand coordinate system:
Positive rotation => Counter Clock Wise
Positive X-Axis is 0

**Parameters**

-   `angle` **[number][53]** angle in radians

Returns **[Vector][52]** The rotated vector

### normalized

Normalizes the vector

Returns **[Vector][52]** this normalized vector

### product

Creates a transformed vector by multiplication with a matrix

**Parameters**

-   `matrix` **[Array][55]** matrix to operate with

Returns **[Vector][52]** The transfromed vector

## Broker

**Extends EventEmitter**

Class for device handling and basic functions

### run_script

Creates a script that executes a list of promises.

**Parameters**

-   `promise_list` **[array][55]** Array of functions which return promises.

### waitMS

Generates a promise that creates a timeout.

**Parameters**

-   `ms` **[number][53]** number ob ms to wait.

Returns **[Promise][58]** The promise executing the timeout.

### getDevices

Returns all connected devices.

Returns **[Set][59]** The connected devices.

### getDeviceByPort

Returns the device connected to a specific port

**Parameters**

-   `port` **[String][51]** the port of the device

Returns **[Device][60]** The connected device.

### createVirtualDevice

Creates a new virtual device

Returns **[Device][60]** The new virtual device.

## VoiceInteraction

**Extends EventEmitter**

Class for voice input and output

### speakText

Speaks a text.

**Parameters**

-   `txt` **[String][51]** The text to speak.
-   `language` **[String][51]** The language to speak. (optional, default `DE`)
-   `speed` **[number][53]** The speed that is spoken with. (optional, default `1.4`)

### sayText

Creates a script which speaks a german text with 1.4 speed.

**Parameters**

-   `txt` **[String][51]** The text to speak.

### playSound

Play a soundfile.

**Parameters**

-   `filename` **[String][51]** The file to play.
-   `loop`   (optional, default `false`)

Returns **[Player][61]** The player playing the sound

### setCommands

Sets up the voice input listener.

**Parameters**

-   `commands` **[array][55]** List of Strings to listen for.

### beginListening

starts the listener.

### haltListening

stops the listener.

## Player

Player is a class to control the playing of a file

**Parameters**

-   `filename` **[string][51]** The filename of the soundfile.
-   `loop`   (optional, default `false`)

**Properties**

-   `isPlaying` **[boolean][62]** is the player currently playing

### then

The Player object is awaitable.
The then function is used internely by await or by the old `.then` syntax.

**Parameters**

-   `args` **...any** 

**Examples**

```javascript
await new Player('test.mp3');
// old syntax:
new Player('test.mp3').then(() => console.log('done'));
```

Returns **[Promise][58]** The promise of the state after the callbacks in then.

### play

Continue playing.

### pause

Pause playing.

### stop

Stop playing.

[1]: #device

[2]: #disconnect

[3]: #poll

[4]: #getmeposition

[5]: #getitposition

[6]: #send

[7]: #handlemoved

[8]: #createobstacle

[9]: #removeobstacle

[10]: #createforcefield

[11]: #removeforcefield

[12]: #movehandleto

[13]: #applyforceto

[14]: #rotatehandleto

[15]: #movepantoto

[16]: #unblockhandle

[17]: #unblock

[18]: #tweenpantoto

[19]: #step

[20]: #vector

[21]: #dot

[22]: #scale

[23]: #scaled

[24]: #add

[25]: #sum

[26]: #subtract

[27]: #difference

[28]: #length

[29]: #polarangle

[30]: #rotate

[31]: #normalized

[32]: #product

[33]: #broker

[34]: #run_script

[35]: #waitms

[36]: #getdevices

[37]: #getdevicebyport

[38]: #createvirtualdevice

[39]: #voiceinteraction

[40]: #speaktext

[41]: #saytext

[42]: #playsound

[43]: #setcommands

[44]: #beginlistening

[45]: #haltlistening

[46]: #player

[47]: #then

[48]: #play

[49]: #pause

[50]: #stop

[51]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[52]: #vector

[53]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[54]: https://nodejs.org/api/buffer.html

[55]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[56]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[57]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[58]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[59]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Set

[60]: #device

[61]: #player

[62]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean
